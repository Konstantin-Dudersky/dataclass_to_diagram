@startuml

!include C4_Container.puml


AddElementTag("v1.1", $fontColor="#d73027")
AddRelTag("backup", $textColor="orange", $lineColor="orange", $lineStyle="DashedLine()")
AddElementTag("v1.0", $borderColor="#d73027")
AddElementTag("backup", $fontColor="orange")
Person(139666996416080, $label="Customer", $descr="People that need products")
Person(139666996416176, $label="Administrator", $descr="People that administrates the products via the new v1.1 components", $tags="v1.1")

Container(139666996416224, $label="SPA", $techn="angular", $descr="The main interface that the customer interacts with via v1.0", $tags="v1.0")
Container(139666996416272, $label="Admin SPA", $techn="angular", $descr="The administrator interface that the customer interacts with via new v1.1", $tags="v1.1")
Container(139666996416320, $label="API", $techn="java", $descr="Handles all business logic (incl. new v1.1 extensions)", $tags="v1.0+v1.1")
ContainerDb(139666996416368, $label="Database", $techn="Microsoft SQL", $descr="Holds product, order and invoice information")
Container(139666996416416, $label="Archive", $techn="Audit logging", $descr="Stores 5 years", $tags="backup")


Rel(139666996416080, 139666996416224, "Uses", "https", "")
Rel(139666996416224, 139666996416320, "Uses", "https", "")
Rel_R(139666996416320, 139666996416368, "Reads/Writes", "", "")
Rel(139666996416176, 139666996416272, "Uses", "https", "")
Rel(139666996416272, 139666996416320, "Uses", "https", "")
Rel_L(139666996416320, 139666996416416, "Writes", "messages", "", $tags="backup")
SHOW_LEGEND()
@enduml
